# 开发规范（待补充）

在阅读规范前最好先看下 [README]("./README.MD") 里说明的 __目录结构__、 以及 __模型__ ，最好熟悉下这个框架的 __基本的框架性功能__

重复一下重要的模型概念：
```markdown
模型参考单机操作系统，在这个模型中，整个应用主要的是两大功能模块：
* _对外的api接口_
* _可配置的定时任务_

api接口的代码应清晰地放置到facade目录中，按照业务模块进行划分，然后再按照api、enums、model类似的结构放置。  
定时任务的代码则应该放到daemon目录中，目录名取自Unix like操作系统中的 __守卫进程__ 概念。  
__所有其它的模块都是为这两个功能模块所服务__
```



下面按照操作顺序说下怎么在这个框架上进行开发。

## 增加业务模块
系统除了框架性功能外，其它的业务相关的内容应该按照业务模块划分。

在这里的概念中，一个业务模块包含了若干基础功能、service以及可能的persistence外存模块。
直观地说，这几部分对应了下面目录的代码：
1. 基础功能,即上面概念模型说到的 __api接口__ 和 __定时任务__,对应facade目录和daemon目录下的代码
2. service目录下的service层代码
3. persistence目录下的持久层代码


流程如下：
1. 界定业务模块，列出模块需要提供的基础功能， 包括api和定时任务两部分
2. 在facade目录和daemon目录创建新的业务模块代码目录，添加相应api接口或者定时任务，api层组织规范 和 定时任务规范 见后面
3. service 目录里创建新的业务模块代码目录，并实现业务过程
4. 过程中遇到的非业务性质的通用框架性功能考虑放到skeletons里面实现

## 在现有业务模块增加功能

由先前定下的概念模型，在应用中增加一个功能，无非两种情况：
1. 增加api接口层;
2. 增加定时任务.

* 如果是api层代码，在facade目录下，按照固定的模块创建controller， 并将接口的输入输出实体模型定义到model目录， 将枚举类型定义到enums目录.

## api层代码组织规范
api 接口统一放到facade目录，facade目录下再按照系统的业务模块分放代码。比如一个交易平台可能分为 用户购物模块 和 商家管理模块，则可以如下分:
```
facade
    base
        api
        model
        enums
    shopping
        api
        model
        enums
    goodsmanaging
        api
        model
        enums
```

facade下按模块分，base为基础的模块，比如用户管理等系统性的管理接口，每个模块下再分api、model、enums 3个目录